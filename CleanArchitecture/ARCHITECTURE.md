# Clean Architecture ìƒì„¸ ë‹¤ì´ì–´ê·¸ë¨

## ğŸ¯ ì „ì²´ ì•„í‚¤í…ì²˜ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ì™¸ë¶€ ì„¸ê³„ (External)                         â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚                    â”‚   HTTP Client / Browser   â”‚                     â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚ HTTP Request
                                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Frameworks & Drivers (ê°€ì¥ ë°”ê¹¥ ë ˆì´ì–´)                â”‚
â”‚                                                                       â”‚
â”‚  cmd/api/main.go                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  func main() {                                              â”‚   â”‚
â”‚  â”‚      // ì˜ì¡´ì„± ì£¼ì…                                          â”‚   â”‚
â”‚  â”‚      userRepo := memory.NewUserRepository()   â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚  â”‚      userUseCase := usecase.NewUserUseCase(userRepo) â”‚     â”‚   â”‚
â”‚  â”‚      userHandler := http.NewUserHandler(userUseCase) â”‚     â”‚   â”‚
â”‚  â”‚      router := http.NewRouter(userHandler)            â”‚     â”‚   â”‚
â”‚  â”‚      http.ListenAndServe(":8080", router)            â”‚     â”‚   â”‚
â”‚  â”‚  }                                                    â”‚     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                          â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ ì˜ì¡´ì„± ì£¼ì…
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Interface Adapters (ì–´ëŒ‘í„° ë ˆì´ì–´)                      â”‚
â”‚                                                                       â”‚
â”‚  internal/delivery/http/                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Handler (Controller)                                       â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  CreateUser(w, r)                                     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚    1. HTTP Request â†’ DTO                              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚    2. userUseCase.CreateUser(email, name)  â”€â”€â”€â”      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚    3. Domain Entity â†’ HTTP Response           â”‚      â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                                        â”‚
â”‚  internal/repository/memory/                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚  Repository (Gateway)                              â”‚           â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚           â”‚
â”‚  â”‚  â”‚  implements UserRepository interface         â”‚  â”‚           â”‚
â”‚  â”‚  â”‚                                               â”‚  â”‚           â”‚
â”‚  â”‚  â”‚  Create(user)    â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”       â”‚
â”‚  â”‚  â”‚  GetByID(id)                                  â”‚  â”‚  â”‚       â”‚
â”‚  â”‚  â”‚  GetByEmail(email)                            â”‚  â”‚  â”‚       â”‚
â”‚  â”‚  â”‚  Update(user)                                 â”‚  â”‚  â”‚       â”‚
â”‚  â”‚  â”‚  Delete(id)                                   â”‚  â”‚  â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                          â”‚  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â”‚ ì˜ì¡´ì„± (ì¸í„°í˜ì´ìŠ¤)                     â”‚
                    â†“                                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Use Cases (ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™)          â”‚        â”‚
â”‚                                                              â”‚        â”‚
â”‚  internal/usecase/                                          â”‚        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  UserUseCase                                             â”‚      â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚      â”‚â”‚
â”‚  â”‚  â”‚  CreateUser(email, name)                           â”‚  â”‚      â”‚â”‚
â”‚  â”‚  â”‚    1. user := domain.NewUser(email, name) â”€â”€â”€â”    â”‚  â”‚      â”‚â”‚
â”‚  â”‚  â”‚    2. Check duplicate via userRepo           â”‚    â”‚  â”‚      â”‚â”‚
â”‚  â”‚  â”‚    3. Generate ID                             â”‚    â”‚  â”‚      â”‚â”‚
â”‚  â”‚  â”‚    4. userRepo.Create(user)  â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”˜      â”‚â”‚
â”‚  â”‚  â”‚    5. return user                             â”‚    â”‚         â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”˜         â”‚â”‚
â”‚  â”‚                                                   â”‚              â”‚â”‚
â”‚  â”‚  UserRepository interface (Port)                 â”‚              â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚              â”‚â”‚
â”‚  â”‚  â”‚  Create(user *User) error                    â”‚â”‚              â”‚â”‚
â”‚  â”‚  â”‚  GetByID(id string) (*User, error)           â”‚â”‚              â”‚â”‚
â”‚  â”‚  â”‚  GetByEmail(email string) (*User, error)     â”‚â”‚              â”‚â”‚
â”‚  â”‚  â”‚  ...                                          â”‚â”‚              â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚              â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ ì˜ì¡´ì„± (ë„ë©”ì¸ ì—”í‹°í‹°)
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Entities (ì—”í„°í”„ë¼ì´ì¦ˆ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™)                   â”‚
â”‚                            ê°€ì¥ ì•ˆìª½ ë ˆì´ì–´                          â”‚
â”‚                                                                       â”‚
â”‚  internal/domain/                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  User (Domain Entity)                                       â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  type User struct {                                   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚      ID        string                                 â”‚ â”‚   â”‚
â”‚  â”‚  â”‚      Email     string                                 â”‚ â”‚   â”‚
â”‚  â”‚  â”‚      Name      string                                 â”‚ â”‚   â”‚
â”‚  â”‚  â”‚      CreatedAt time.Time                              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚      UpdatedAt time.Time                              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  }                                                     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                        â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§                                      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  func NewUser(email, name) (*User, error)            â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  func (u *User) Validate() error                     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  func (u *User) UpdateName(name) error               â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                             â”‚   â”‚
â”‚  â”‚  Domain Errors                                              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  ErrUserNotFound                                      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  ErrUserExists                                        â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  ErrInvalidEmail                                      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  ErrInvalidName                                       â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  â­ ì™¸ë¶€ ì˜ì¡´ì„± ì—†ìŒ (í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œ ì‚¬ìš©)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ ì‹¤ì œ ìš”ì²­ ì²˜ë¦¬ íë¦„

### ì˜ˆì‹œ: ì‚¬ìš©ì ìƒì„± ìš”ì²­

```
1. HTTP Request (POST /api/v1/users)
   â†“
2. Router (Chi) â†’ Handler.CreateUser()
   â†“
3. Handler: HTTP Request â†’ DTO (CreateUserRequest)
   {
     "email": "user@example.com",
     "name": "John Doe"
   }
   â†“
4. Handler â†’ UserUseCase.CreateUser(email, name)
   â†“
5. UseCase: domain.NewUser(email, name)
   â€¢ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ê²€ì¦ (ì´ë©”ì¼, ì´ë¦„ í•„ìˆ˜)
   â€¢ User ì—”í‹°í‹° ìƒì„±
   â†“
6. UseCase: userRepo.GetByEmail(email)
   â€¢ ì¤‘ë³µ ì²´í¬
   â†“
7. UseCase: Generate UUID
   â†“
8. UseCase â†’ userRepo.Create(user)
   â†“
9. Repository: ë©”ëª¨ë¦¬ì— ì €ì¥
   â†“
10. Repository â†’ UseCase: user ë°˜í™˜
    â†“
11. UseCase â†’ Handler: user ë°˜í™˜
    â†“
12. Handler: Domain Entity â†’ UserResponse (DTO)
    {
      "id": "uuid",
      "email": "user@example.com",
      "name": "John Doe",
      "created_at": "2024-01-01T00:00:00Z"
    }
    â†“
13. Handler â†’ HTTP Response (201 Created)
```

## ğŸ¨ ì˜ì¡´ì„± ë°©í–¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ì˜ì¡´ì„± ê·œì¹™ (The Dependency Rule) â”‚
â”‚                                          â”‚
â”‚   ë°”ê¹¥ìª½ â†’ ì•ˆìª½ìœ¼ë¡œë§Œ ì˜ì¡´í•  ìˆ˜ ìˆìŒ       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì™¸ë¶€ â”€â”€â†’ HTTP Handler â”€â”€â†’ Use Case â”€â”€â†’ Domain
      (ì˜ì¡´)         (ì˜ì¡´)      (ì˜ì¡´)

âŒ Domainì€ Use Caseë¥¼ ëª¨ë¦„
âŒ Use CaseëŠ” Handlerë¥¼ ëª¨ë¦„
âŒ HandlerëŠ” Repository êµ¬ì²´ íƒ€ì…ì„ ëª¨ë¦„ (ì¸í„°í˜ì´ìŠ¤ë§Œ ì•)
```

## ğŸ”Œ ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ (DIP)

### Before (ë‚˜ìœ ì˜ˆ)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Use Case    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ depends on (êµ¬ì²´ íƒ€ì…)
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PostgreSQL  â”‚
â”‚  Repository  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**ë¬¸ì œ**: Use Caseê°€ PostgreSQLì— ì§ì ‘ ì˜ì¡´ â†’ ë³€ê²½ ì–´ë ¤ì›€

### After (Clean Architecture)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Use Case    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ depends on (ì¸í„°í˜ì´ìŠ¤)
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UserRepository  â”‚  â† Interface (Port)
â”‚  (interface)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†‘ implements
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Memory      â”‚  Postgres â”‚  MongoDB â”‚
â”‚  Repository  â”‚  Repositoryâ”‚ Repositoryâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**ì¥ì **: Use CaseëŠ” ì¸í„°í˜ì´ìŠ¤ë§Œ ì•Œê³ , êµ¬í˜„ì²´ëŠ” ì‰½ê²Œ êµì²´ ê°€ëŠ¥

## ğŸ“¦ íŒ¨í‚¤ì§€ ì˜ì¡´ì„± ê·¸ë˜í”„

```
cmd/api
  â†“
internal/delivery/http â”€â”€â”€â†’ internal/usecase â”€â”€â”€â†’ internal/domain
                                â†‘
internal/repository/memory â”€â”€â”€â”€â”˜
```

**ì˜ì¡´ì„± ê°œìˆ˜**:
- `domain`: 0 (ì™„ì „ ë…ë¦½)
- `usecase`: 1 (domainë§Œ ì˜ì¡´)
- `repository`: 2 (domain, usecaseì˜ interface)
- `delivery/http`: 2 (domain, usecase)
- `cmd/api`: ëª¨ë‘ (ì˜ì¡´ì„± ì¡°ë¦½)

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì „ëµ

### 1. Domain Layer í…ŒìŠ¤íŠ¸ (ê°€ì¥ ì‰¬ì›€)
```go
func TestUser_UpdateName(t *testing.T) {
    user := &domain.User{Name: "Old Name"}
    
    err := user.UpdateName("New Name")
    
    assert.NoError(t, err)
    assert.Equal(t, "New Name", user.Name)
}
```
**íŠ¹ì§•**: ì™¸ë¶€ ì˜ì¡´ì„± ì—†ìŒ, ë§¤ìš° ë¹ ë¦„

### 2. Use Case Layer í…ŒìŠ¤íŠ¸ (Mock ì‚¬ìš©)
```go
func TestUserUseCase_CreateUser(t *testing.T) {
    mockRepo := &MockUserRepository{}
    useCase := usecase.NewUserUseCase(mockRepo)
    
    user, err := useCase.CreateUser("test@example.com", "Test")
    
    assert.NoError(t, err)
    assert.NotNil(t, user)
}
```
**íŠ¹ì§•**: Mockìœ¼ë¡œ Repository ëŒ€ì²´, ë¹ ë¦„

### 3. Repository Layer í…ŒìŠ¤íŠ¸ (í†µí•© í…ŒìŠ¤íŠ¸)
```go
func TestUserRepository_Create(t *testing.T) {
    repo := memory.NewUserRepository()
    user := &domain.User{ID: "1", Email: "test@example.com"}
    
    err := repo.Create(context.Background(), user)
    
    assert.NoError(t, err)
}
```
**íŠ¹ì§•**: ì‹¤ì œ ì €ì¥ì†Œ ì‚¬ìš©

### 4. Handler Layer í…ŒìŠ¤íŠ¸ (HTTP í…ŒìŠ¤íŠ¸)
```go
func TestHandler_CreateUser(t *testing.T) {
    req := httptest.NewRequest("POST", "/users", body)
    w := httptest.NewRecorder()
    
    handler.CreateUser(w, req)
    
    assert.Equal(t, 201, w.Code)
}
```
**íŠ¹ì§•**: HTTP ë ˆë²¨ í…ŒìŠ¤íŠ¸

## ğŸš€ ë ˆì´ì–´ë³„ ì±…ì„

| ë ˆì´ì–´ | ì±…ì„ | ì˜ì¡´ì„± | ë³€ê²½ ë¹ˆë„ |
|--------|------|--------|-----------|
| **Domain** | ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ | ì—†ìŒ | ë‚®ìŒ |
| **Use Case** | ë¹„ì¦ˆë‹ˆìŠ¤ íë¦„ | Domain | ë³´í†µ |
| **Repository** | ë°ì´í„° ì ‘ê·¼ | Domain, UseCase interface | ë³´í†µ |
| **Handler** | HTTP ì²˜ë¦¬ | Domain, UseCase | ë†’ìŒ |
| **Main** | ì˜ì¡´ì„± ì¡°ë¦½ | ëª¨ë‘ | ë‚®ìŒ |

## ğŸ’¡ í•µì‹¬ ì›ì¹™

1. **ì˜ì¡´ì„± ê·œì¹™**: í•­ìƒ ì•ˆìª½(ê³ ìˆ˜ì¤€)ì„ í–¥í•¨
2. **ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬**: í¬íŠ¸(ì¸í„°í˜ì´ìŠ¤)ì™€ ì–´ëŒ‘í„°(êµ¬í˜„) ë¶„ë¦¬
3. **ë‹¨ì¼ ì±…ì„**: ê° ë ˆì´ì–´ëŠ” í•˜ë‚˜ì˜ ì±…ì„ë§Œ
4. **í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„±**: ëª¨ë“  ë ˆì´ì–´ë¥¼ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
5. **í”„ë ˆì„ì›Œí¬ ë…ë¦½ì„±**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ í”„ë ˆì„ì›Œí¬ì— ë…ë¦½ì 

## ğŸ¯ Clean Architectureì˜ ëª©í‘œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë…ë¦½ì„± (Independence)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… í”„ë ˆì„ì›Œí¬ ë…ë¦½ì                     â”‚
â”‚  âœ… UI ë…ë¦½ì                             â”‚
â”‚  âœ… ë°ì´í„°ë² ì´ìŠ¤ ë…ë¦½ì                   â”‚
â”‚  âœ… ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë…ë¦½ì                â”‚
â”‚  âœ… í…ŒìŠ¤íŠ¸ ê°€ëŠ¥                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ì´ ëª¨ë“  ê²ƒì´ **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë³´í˜¸**í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤! ğŸ›¡ï¸

